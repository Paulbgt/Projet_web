function clearArticle(){document.querySelector(".listArticle").innerHTML=""}function generateArticle(e,t,n,r,a,l){var c,i,u,o,d,s,m,p,h,A,g=document.querySelector(".listArticle");(c=document.createElement("form")).setAttribute("action","php/add_article_caddy.php"),c.setAttribute("method","POST"),(i=document.createElement("div")).className="article",(u=document.createElement("div")).className="AKL-ctn--c1 article-img",l||(l="default.svg"),u.style.backgroundImage="url(shop_picture/"+l+")",(o=document.createElement("h3")).className="article-img-title",o.setAttribute("name","shop-info-name"),o.innerHTML=t,(d=document.createElement("div")).className="AKL-ctn--c1 article-infos",(s=document.createElement("span")).className="article-infos-price",s.setAttribute("name","shop-info-price"),s.innerHTML=n,(m=document.createElement("span")).className="article-infos-category",m.innerHTML=r,(p=document.createElement("p")).className="article-infos-description",p.setAttribute("name","shop-info-description"),p.innerHTML=a,(h=document.createElement("input")).setAttribute("name","take_id_produce"),h.setAttribute("type","hidden"),h.setAttribute("readonly","true"),h.setAttribute("value",e),(A=document.createElement("input")).className="AKL-btnModern-Shine-ocean article-infos-btnAdd",A.setAttribute("type","submit"),A.setAttribute("value","+"),u.appendChild(o),d.appendChild(s),d.appendChild(m),d.appendChild(p),d.appendChild(h),d.appendChild(A),i.appendChild(u),i.appendChild(d),c.appendChild(i),g.appendChild(c)}function getJSON2(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="json",console.log(r),r.onload=function(){var e=r.status;200===e?t(r.response):n(e,r.response)},r.send()})}function getUrl(e,t,n,r){return null!=t&&""!=t||null!=n&&""!=n||null!=r&&""!=r?null!=t&&""!=t||null==n&&""==n||null==r&&""==r?null==t&&""==t||null==n&&""==n||null==r&&""==r?e:e+"?category="+t+"&min="+n+"&max="+r:e+"?min="+n+"&max="+r:e}function createData(e){clearArticle();for(var t=0;t<e.length;t++)generateArticle(e[t].id,e[t].name,e[t].price,e[t].category,e[t].description,e[t].url)}var button=document.querySelector(".btnSearch"),minBtn=document.querySelector(".min-range"),maxBtn=document.querySelector(".max-range"),selectBtn=document.querySelector(".searchNav-select");button.addEventListener("click",function(){var e=minBtn.value,t=maxBtn.value;getJSON2(getUrl("php/produce",selectBtn.value,e,t)).then(createData)}),clearArticle(),getJSON2(getUrl("php/produce",null,null,null)).then(createData);