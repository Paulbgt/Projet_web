function closeModal(){backgroundModal.style.display="none",document.querySelector(".wrapper").style.filter="none"}for(var btnLike=document.querySelectorAll(".event-swap-like"),btnPrevious=document.querySelectorAll(".event-swap-previous"),btnNext=document.querySelectorAll(".event-swap-next"),btnCloseModalComment=document.querySelector(".modalComment-close"),inputImg=document.querySelectorAll(".modalPhoto-input"),btnComment=document.querySelectorAll(".event-infos-comment"),i=0;i<btnComment.length;i++)btnComment[i].addEventListener("click",function(){this.parentElement.parentElement.parentElement.querySelector(".modalComment").style.display="block",this.parentElement.parentElement.parentElement.querySelector(".modalComment-close").addEventListener("click",function(){this.parentElement.style.display="none",this.parentElement.querySelector(".modalComment-post-input").style.display="none",this.parentElement.querySelector(".modalComment-post-btn").style.display="none",this.parentElement.querySelector(".modalComment-comment-plus").style.display="inline-block"}),this.parentElement.parentElement.parentElement.querySelector(".modalComment-comment-plus").addEventListener("click",function(){this.parentElement.querySelector(".modalComment-post-input").style.display="block",this.parentElement.querySelector(".modalComment-post-btn").style.display="block",this.style.display="none"})});for(vari=0;i<inputImg.length;i++)inputImg[i].addEventListener("change",function(e){var t=this.files[0].name.split(".");if(t=t[t.length-1].toLowerCase(),-1!=allowedTypes.indexOf(t)){var n=URL.createObjectURL(this.files[0]);this.parentElement.style.backgroundImage="url("+n+")",document.querySelector("[for=fileImg]").style.marginBottom="-290px"}});for(i=0;i<btnNext.length;i++)btnNext[i].addEventListener("click",function(){var e=this.parentElement.parentElement.children[0].querySelectorAll("[class*=event-img-]"),t=parseInt(this.parentElement.getAttribute("step"));e[t].setAttribute("value",this.parentElement.querySelector(".event-swap-like").getAttribute("value"));for(var n=0;n<e.length;n++)e[n].style.opacity=0;t==e.length-1?t=0:t+=1,e[t].style.opacity=1,this.parentElement.setAttribute("step",t),this.parentElement.querySelector(".event-swap-like").setAttribute("value",e[t].getAttribute("value")),"true"==e[t].getAttribute("liked")?this.parentElement.querySelector(".event-swap-like").style.backgroundImage="url(site_picture/like_blue.svg)":this.parentElement.querySelector(".event-swap-like").style.backgroundImage="url(site_picture/like_grey.svg)",this.parentElement.querySelector(".event-swap-like").style.animation="none"}),btnPrevious[i].addEventListener("click",function(){var e=this.parentElement.parentElement.children[0].querySelectorAll("[class*=event-img-]"),t=parseInt(this.parentElement.getAttribute("step"));e[t].setAttribute("value",this.parentElement.querySelector(".event-swap-like").getAttribute("value"));for(var n=0;n<e.length;n++)e[n].style.opacity=0;0==t?t=e.length-1:t-=1,e[t].style.opacity=1,this.parentElement.setAttribute("step",t),this.parentElement.querySelector(".event-swap-like").setAttribute("value",e[t].getAttribute("value")),"true"==e[t].getAttribute("liked")?this.parentElement.querySelector(".event-swap-like").style.backgroundImage="url(site_picture/like_blue.svg)":this.parentElement.querySelector(".event-swap-like").style.backgroundImage="url(site_picture/like_grey.svg)",this.parentElement.querySelector(".event-swap-like").style.animation="none"});for(i=0;i<btnLike.length;i++)btnLike[i].addEventListener("click",function(){var e=this.parentElement.parentElement.children[0].querySelectorAll("[class*=event-img-]"),t=parseInt(this.parentElement.getAttribute("step"));this.style.backgroundImage.search("grey")>0?(this.style.backgroundImage="url(site_picture/like_blue.svg)",this.setAttribute("value",parseInt(this.getAttribute("value"))+1),this.style.animation="like 225ms",e[t].setAttribute("liked",!0)):(this.style.backgroundImage="url(site_picture/like_grey.svg)",this.setAttribute("value",parseInt(this.getAttribute("value"))-1),this.style.animation="unlike 225ms",e[t].setAttribute("liked",!1))});if(document.getElementById("fileImgModal")){var inputImgModal=document.getElementById("fileImgModal"),eventAdmin=document.querySelectorAll("[class*=event-admin]"),backgroundModal=document.querySelector(".backgroundModal"),btnDelete=document.querySelector(".modal-infos-delete");for(i=0;i<eventAdmin.length;i++)eventAdmin[i].addEventListener("click",function(){backgroundModal.style.display="flex",document.querySelector(".wrapper").style.filter="blur(5px)";var e=this.classList[1].replace("event-admin","");document.querySelector(".modal-infos-id").value=this.id,document.querySelector(".modal-infos-id-delete").value=this.id,document.querySelector(".modal-img").style.backgroundImage=document.getElementById("event-img"+e).style.backgroundImage,document.querySelector(".modal-infos-title").value=document.getElementById("event-infos-title"+e).innerHTML,document.querySelector(".modal-infos-place").value=document.getElementById("event-infos-place"+e).innerHTML,document.querySelector(".modal-infos-date").value=document.getElementById("event-infos-date"+e).innerHTML,document.querySelector(".modal-infos-club").value=document.getElementById("event-infos-club"+e).innerHTML,document.querySelector(".modal-infos-description").value=document.getElementById("event-infos-description"+e).innerHTML});inputImgModal.addEventListener("change",function(e){var t=this.files[0].name.split(".");if(t=t[t.length-1].toLowerCase(),-1!=allowedTypes.indexOf(t)){var n=URL.createObjectURL(this.files[0]);this.parentElement.style.backgroundImage="url("+n+")"}}),document.querySelector(".modal-close").addEventListener("click",function(){closeModal()}),backgroundModal.addEventListener("click",function(e){(e.clientX<this.children[0].offsetLeft||e.clientX>this.children[0].offsetLeft+this.children[0].offsetWidth||e.clientY<this.children[0].offsetTop||e.clientY>this.children[0].offsetTop+this.children[0].offsetHeight)&&closeModal()}),btnDelete.addEventListener("click",function(e){closeModal(),document.getElementById("event"+document.querySelector(".modal-infos-id-delete").value).remove()})}