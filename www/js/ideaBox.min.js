function placeError(){for(var e=0;e<formError.length;e++){formError[e].style.width="0px";var t=document.getElementById(formError[e].getAttribute("for"));formError[e].style.top=t.offsetTop+"px",formError[e].style.left=t.offsetLeft+"px",formError[e].style.width=t.offsetWidth-1+"px",formError[e].style.height=t.offsetHeight+"px"}}function closeModal(){backgroundModal.style.display="none",document.querySelector(".wrapper").style.filter="none"}function verifCode(e){var t="",o="38384040373937396665";document.addEventListener("keydown",function(n){if((t+=""+n.keyCode)===o)return e();o.indexOf(t)&&(t=""+n.keyCode)})}var inputImg=document.getElementById("fileImg"),btnLike=document.querySelectorAll(".idea-infos-like"),suggestionBox=document.querySelector(".suggestion"),suggestionBlc=document.querySelector(".blcSuggestion"),suggestionBtnOpen=document.getElementById("displaySuggestion"),suggestionBtnClose=document.querySelector(".suggestion-title"),allowedTypes=["png","jpg","jpeg","gif"],formError=document.querySelectorAll(".form-error"),btnRegisterValidate=document.querySelector(".suggestion-infos-submit"),btnDelete=document.querySelector(".modal-infos-delete");btnRegisterValidate.addEventListener("click",function(e){placeError()}),inputImg.addEventListener("change",function(e){var t=this.files[0].name.split(".");if(t=t[t.length-1].toLowerCase(),-1!=allowedTypes.indexOf(t)){var o=URL.createObjectURL(this.files[0]);this.parentElement.style.backgroundImage="url("+o+")",document.querySelector("[for=fileImg]").style.marginBottom="-290px"}});for(var i=0;i<btnLike.length;i++)btnLike[i].addEventListener("click",function(){this.style.backgroundImage.search("grey")>0?(this.style.backgroundImage="url(site_picture/like_blue.svg)",this.setAttribute("value",parseInt(this.getAttribute("value"))+1),this.style.animation="like 225ms",document.querySelector("."+this.getAttribute("form")).setAttribute("name","like_id")):(this.style.backgroundImage="url(site_picture/like_grey.svg)",this.setAttribute("value",parseInt(this.getAttribute("value"))-1),this.style.animation="unlike 225ms",document.querySelector("."+this.getAttribute("form")).setAttribute("name","unlike_id"))});var ho,h;if(suggestionBtnOpen.addEventListener("click",function(){suggestionBlc.style.height="auto",ho=suggestionBlc.offsetHeight,suggestionBox.style.display="block",this.style.display="none",h=suggestionBlc.offsetHeight,suggestionBlc.style.height=ho+"px",setTimeout(function(){suggestionBlc.style.height=h+"px"},1)}),suggestionBtnClose.addEventListener("click",function(){suggestionBtnOpen.style.display="flex",suggestionBox.style.display="none",suggestionBlc.style.height=ho+"px"}),document.getElementById("fileImgModal")){var inputImgModal=document.getElementById("fileImgModal"),suggestionAdmin=document.querySelectorAll("[class*=idea-admin]"),backgroundModal=document.querySelector(".backgroundModal");for(i=0;i<suggestionAdmin.length;i++)suggestionAdmin[i].addEventListener("click",function(){backgroundModal.style.display="flex",document.querySelector(".wrapper").style.filter="blur(5px)";var e=this.classList[1].replace("idea-admin","");document.querySelector(".modal-infos-id").value=this.id,document.querySelector(".modal-infos-id-delete").value=this.id,document.querySelector(".modal-img").style.backgroundImage=document.getElementById("idea-img"+e).style.backgroundImage,document.querySelector(".modal-infos-title").value=document.getElementById("idea-infos-title"+e).innerHTML,document.querySelector(".modal-infos-place").value=document.getElementById("idea-infos-place"+e).innerHTML,document.querySelector(".modal-infos-price").value=document.getElementById("idea-infos-price"+e).innerHTML,document.querySelector(".modal-infos-date").value=document.getElementById("idea-infos-date"+e).innerHTML,document.querySelector(".modal-infos-club").value=document.getElementById("idea-infos-club"+e).innerHTML,document.querySelector(".modal-infos-description").value=document.getElementById("idea-infos-description"+e).innerHTML});inputImgModal.addEventListener("change",function(e){var t=this.files[0].name.split(".");if(t=t[t.length-1].toLowerCase(),-1!=allowedTypes.indexOf(t)){var o=URL.createObjectURL(this.files[0]);this.parentElement.style.backgroundImage="url("+o+")"}}),document.querySelector(".modal-close").addEventListener("click",function(){closeModal()}),backgroundModal.addEventListener("click",function(e){(e.clientX<this.children[0].offsetLeft||e.clientX>this.children[0].offsetLeft+this.children[0].offsetWidth||e.clientY<this.children[0].offsetTop||e.clientY>this.children[0].offsetTop+this.children[0].offsetHeight)&&closeModal()}),btnDelete.addEventListener("click",function(e){closeModal(),document.getElementById("idea"+document.querySelector(".modal-infos-id-delete").value).remove()})}var btnReport=document.querySelectorAll("[class*=idea-report]");if(btnReport.length>0)for(i=0;i<btnReport.length;i++)btnReport[i].addEventListener("click",function(){var e=this;setTimeout(function(){e.parentElement.parentElement.remove()},20)});verifCode(function(){right=!1,document.querySelector(".wrapper").style.backgroundColor="transparent",document.querySelector(".banner").style.backgroundColor="transparent",document.querySelector(".banner").style.color="white",document.querySelector(".footer").style.backgroundColor="transparent",document.querySelector(".suggestion").style.backgroundColor="transparent",document.querySelector(".nav-blc").style.backgroundColor="transparent",document.querySelector(".header").style.background="none",document.querySelector(".wrapper").style.color="white !important";for(var e=0;e<document.querySelectorAll(".idea").length;e++)document.querySelectorAll(".idea")[e].style.backgroundColor="transparent",document.querySelectorAll(".idea")[e].style.color="white",document.querySelectorAll(".idea-infos-description")[e].style.color="white",document.getElementById("idea-infos-place"+(e+1)).className+=" right",document.getElementById("idea-infos-club"+(e+1)).className+=" right",document.getElementById("idea-infos-date"+(e+1)).className+=" right",document.getElementById("idea-infos-price"+(e+1)).className+=" right";document.body.style.backgroundImage="url(site_picture/nyancat.gif)"});